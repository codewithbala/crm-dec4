{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class StringCutOffPipe {\n  transform(value, args) {\n    let newStr = value;\n    let defaultLength = 12;\n    let strEnLen = 0;\n    let strCnLen = 0;\n    let strLength = args ? args * 2 : defaultLength * 2;\n    let cutIndex = 0;\n    for (let i = 0; i < value.length; i++) {\n      if (value.charCodeAt(i) <= 255) {\n        //如果是汉字，则字符串长度加2\n        strEnLen++;\n      } else {\n        strCnLen += 2;\n      }\n      if (strEnLen + strCnLen >= strLength) {\n        cutIndex = i;\n        break;\n      }\n    }\n    if (value && strEnLen + strCnLen >= strLength) {\n      newStr = value.substring(0, cutIndex) + '...';\n    }\n    ;\n    return newStr;\n  }\n  static ɵfac = function StringCutOffPipe_Factory(t) {\n    return new (t || StringCutOffPipe)();\n  };\n  static ɵpipe = /*@__PURE__*/i0.ɵɵdefinePipe({\n    name: \"stringCutOff\",\n    type: StringCutOffPipe,\n    pure: true\n  });\n}","map":{"version":3,"names":["StringCutOffPipe","transform","value","args","newStr","defaultLength","strEnLen","strCnLen","strLength","cutIndex","i","length","charCodeAt","substring","pure"],"sources":["/Users/namcuong757/snva/copy_main2/crm-dec4/CRM_Frontend/src/app/tools/string-cut-off-pipe.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'stringCutOff'\n})\nexport class StringCutOffPipe implements PipeTransform {\n\n  transform(value: any, args?: any): any {\n    let newStr = value;\n    let defaultLength = 12;\n    let strEnLen = 0;\n    let strCnLen = 0;\n    let strLength = args ? args * 2 : defaultLength * 2;\n    let cutIndex = 0;\n    for (let i = 0; i < value.length; i++) {\n      if (value.charCodeAt(i) <= 255) { //如果是汉字，则字符串长度加2\n        strEnLen++;\n      } else {\n        strCnLen += 2\n      }\n      if ((strEnLen + strCnLen) >= strLength) {\n        cutIndex = i;\n        break;\n      }\n    }\n    if (value && strEnLen + strCnLen >= strLength) {\n      newStr = value.substring(0, cutIndex) + '...'\n    };\n    return newStr;\n  }\n\n}\n"],"mappings":";AAKA,OAAM,MAAOA,gBAAgB;EAE3BC,SAASA,CAACC,KAAU,EAAEC,IAAU;IAC9B,IAAIC,MAAM,GAAGF,KAAK;IAClB,IAAIG,aAAa,GAAG,EAAE;IACtB,IAAIC,QAAQ,GAAG,CAAC;IAChB,IAAIC,QAAQ,GAAG,CAAC;IAChB,IAAIC,SAAS,GAAGL,IAAI,GAAGA,IAAI,GAAG,CAAC,GAAGE,aAAa,GAAG,CAAC;IACnD,IAAII,QAAQ,GAAG,CAAC;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,KAAK,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAIR,KAAK,CAACU,UAAU,CAACF,CAAC,CAAC,IAAI,GAAG,EAAE;QAAE;QAChCJ,QAAQ,EAAE;OACX,MAAM;QACLC,QAAQ,IAAI,CAAC;;MAEf,IAAKD,QAAQ,GAAGC,QAAQ,IAAKC,SAAS,EAAE;QACtCC,QAAQ,GAAGC,CAAC;QACZ;;;IAGJ,IAAIR,KAAK,IAAII,QAAQ,GAAGC,QAAQ,IAAIC,SAAS,EAAE;MAC7CJ,MAAM,GAAGF,KAAK,CAACW,SAAS,CAAC,CAAC,EAAEJ,QAAQ,CAAC,GAAG,KAAK;;IAC9C;IACD,OAAOL,MAAM;EACf;;qBAxBWJ,gBAAgB;EAAA;;;UAAhBA,gBAAgB;IAAAc,IAAA;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}