{"ast":null,"code":"import _asyncToGenerator from \"/Users/namcuong757/snva/copy_main2/crm-dec4/CRM_Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { clear, drawParticle, drawParticlePlugin, drawPlugin, paintBase, paintImage } from \"../Utils/CanvasUtils\";\nimport { deepExtend, getLogger, safeMutationObserver } from \"../Utils/Utils\";\nimport { getStyleFromHsl, getStyleFromRgb, rangeColorToHsl, rangeColorToRgb } from \"../Utils/ColorUtils\";\nimport { generatedAttribute } from \"./Utils/Constants\";\nfunction setTransformValue(factor, newFactor, key) {\n  const newValue = newFactor[key];\n  if (newValue !== undefined) {\n    factor[key] = (factor[key] ?? 1) * newValue;\n  }\n}\nexport class Canvas {\n  constructor(container) {\n    var _this = this;\n    this.container = container;\n    this._applyPostDrawUpdaters = particle => {\n      for (const updater of this._postDrawUpdaters) {\n        updater.afterDraw && updater.afterDraw(particle);\n      }\n    };\n    this._applyPreDrawUpdaters = (ctx, particle, radius, zOpacity, colorStyles, transform) => {\n      for (const updater of this._preDrawUpdaters) {\n        if (updater.getColorStyles) {\n          const {\n            fill,\n            stroke\n          } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n          if (fill) {\n            colorStyles.fill = fill;\n          }\n          if (stroke) {\n            colorStyles.stroke = stroke;\n          }\n        }\n        if (updater.getTransformValues) {\n          const updaterTransform = updater.getTransformValues(particle);\n          for (const key in updaterTransform) {\n            setTransformValue(transform, updaterTransform, key);\n          }\n        }\n        updater.beforeDraw && updater.beforeDraw(particle);\n      }\n    };\n    this._applyResizePlugins = () => {\n      for (const plugin of this._resizePlugins) {\n        plugin.resize && plugin.resize();\n      }\n    };\n    this._getPluginParticleColors = particle => {\n      let fColor, sColor;\n      for (const plugin of this._colorPlugins) {\n        if (!fColor && plugin.particleFillColor) {\n          fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n        }\n        if (!sColor && plugin.particleStrokeColor) {\n          sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n        }\n        if (fColor && sColor) {\n          break;\n        }\n      }\n      return [fColor, sColor];\n    };\n    this._initCover = () => {\n      const options = this.container.actualOptions,\n        cover = options.backgroundMask.cover,\n        color = cover.color,\n        coverRgb = rangeColorToRgb(color);\n      if (coverRgb) {\n        const coverColor = {\n          ...coverRgb,\n          a: cover.opacity\n        };\n        this._coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n      }\n    };\n    this._initStyle = () => {\n      const element = this.element,\n        options = this.container.actualOptions;\n      if (!element) {\n        return;\n      }\n      if (this._fullScreen) {\n        this._originalStyle = deepExtend({}, element.style);\n        this._setFullScreenStyle();\n      } else {\n        this._resetOriginalStyle();\n      }\n      for (const key in options.style) {\n        if (!key || !options.style) {\n          continue;\n        }\n        const value = options.style[key];\n        if (!value) {\n          continue;\n        }\n        element.style.setProperty(key, value, \"important\");\n      }\n    };\n    this._initTrail = /*#__PURE__*/_asyncToGenerator(function* () {\n      const options = _this.container.actualOptions,\n        trail = options.particles.move.trail,\n        trailFill = trail.fill;\n      if (!trail.enable) {\n        return;\n      }\n      if (trailFill.color) {\n        const fillColor = rangeColorToRgb(trailFill.color);\n        if (!fillColor) {\n          return;\n        }\n        const trail = options.particles.move.trail;\n        _this._trailFill = {\n          color: {\n            ...fillColor\n          },\n          opacity: 1 / trail.length\n        };\n      } else {\n        yield new Promise((resolve, reject) => {\n          if (!trailFill.image) {\n            return;\n          }\n          const img = document.createElement(\"img\");\n          img.addEventListener(\"load\", () => {\n            _this._trailFill = {\n              image: img,\n              opacity: 1 / trail.length\n            };\n            resolve();\n          });\n          img.addEventListener(\"error\", evt => {\n            reject(evt.error);\n          });\n          img.src = trailFill.image;\n        });\n      }\n    });\n    this._paintBase = baseColor => {\n      this.draw(ctx => paintBase(ctx, this.size, baseColor));\n    };\n    this._paintImage = (image, opacity) => {\n      this.draw(ctx => paintImage(ctx, this.size, image, opacity));\n    };\n    this._repairStyle = () => {\n      const element = this.element;\n      if (!element) {\n        return;\n      }\n      this._safeMutationObserver(observer => observer.disconnect());\n      this._initStyle();\n      this.initBackground();\n      this._safeMutationObserver(observer => observer.observe(element, {\n        attributes: true\n      }));\n    };\n    this._resetOriginalStyle = () => {\n      const element = this.element,\n        originalStyle = this._originalStyle;\n      if (!(element && originalStyle)) {\n        return;\n      }\n      const style = element.style;\n      style.position = originalStyle.position;\n      style.zIndex = originalStyle.zIndex;\n      style.top = originalStyle.top;\n      style.left = originalStyle.left;\n      style.width = originalStyle.width;\n      style.height = originalStyle.height;\n    };\n    this._safeMutationObserver = callback => {\n      if (!this._mutationObserver) {\n        return;\n      }\n      callback(this._mutationObserver);\n    };\n    this._setFullScreenStyle = () => {\n      const element = this.element;\n      if (!element) {\n        return;\n      }\n      const priority = \"important\",\n        style = element.style;\n      style.setProperty(\"position\", \"fixed\", priority);\n      style.setProperty(\"z-index\", this.container.actualOptions.fullScreen.zIndex.toString(10), priority);\n      style.setProperty(\"top\", \"0\", priority);\n      style.setProperty(\"left\", \"0\", priority);\n      style.setProperty(\"width\", \"100%\", priority);\n      style.setProperty(\"height\", \"100%\", priority);\n    };\n    this.size = {\n      height: 0,\n      width: 0\n    };\n    this._context = null;\n    this._generated = false;\n    this._preDrawUpdaters = [];\n    this._postDrawUpdaters = [];\n    this._resizePlugins = [];\n    this._colorPlugins = [];\n  }\n  get _fullScreen() {\n    return this.container.actualOptions.fullScreen.enable;\n  }\n  clear() {\n    const options = this.container.actualOptions,\n      trail = options.particles.move.trail,\n      trailFill = this._trailFill;\n    if (options.backgroundMask.enable) {\n      this.paint();\n    } else if (trail.enable && trail.length > 0 && trailFill) {\n      if (trailFill.color) {\n        this._paintBase(getStyleFromRgb(trailFill.color, trailFill.opacity));\n      } else if (trailFill.image) {\n        this._paintImage(trailFill.image, trailFill.opacity);\n      }\n    } else {\n      this.draw(ctx => {\n        clear(ctx, this.size);\n      });\n    }\n  }\n  destroy() {\n    this.stop();\n    if (this._generated) {\n      const element = this.element;\n      element && element.remove();\n    } else {\n      this._resetOriginalStyle();\n    }\n    this._preDrawUpdaters = [];\n    this._postDrawUpdaters = [];\n    this._resizePlugins = [];\n    this._colorPlugins = [];\n  }\n  draw(cb) {\n    const ctx = this._context;\n    if (!ctx) {\n      return;\n    }\n    return cb(ctx);\n  }\n  drawParticle(particle, delta) {\n    if (particle.spawning || particle.destroyed) {\n      return;\n    }\n    const radius = particle.getRadius();\n    if (radius <= 0) {\n      return;\n    }\n    const pfColor = particle.getFillColor(),\n      psColor = particle.getStrokeColor() ?? pfColor;\n    let [fColor, sColor] = this._getPluginParticleColors(particle);\n    if (!fColor) {\n      fColor = pfColor;\n    }\n    if (!sColor) {\n      sColor = psColor;\n    }\n    if (!fColor && !sColor) {\n      return;\n    }\n    this.draw(ctx => {\n      const container = this.container,\n        options = container.actualOptions,\n        zIndexOptions = particle.options.zIndex,\n        zOpacityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.opacityRate,\n        opacity = particle.bubble.opacity ?? particle.opacity?.value ?? 1,\n        strokeOpacity = particle.strokeOpacity ?? opacity,\n        zOpacity = opacity * zOpacityFactor,\n        zStrokeOpacity = strokeOpacity * zOpacityFactor,\n        transform = {},\n        colorStyles = {\n          fill: fColor ? getStyleFromHsl(fColor, zOpacity) : undefined\n        };\n      colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n      this._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n      drawParticle({\n        container,\n        context: ctx,\n        particle,\n        delta,\n        colorStyles,\n        backgroundMask: options.backgroundMask.enable,\n        composite: options.backgroundMask.composite,\n        radius: radius * (1 - particle.zIndexFactor) ** zIndexOptions.sizeRate,\n        opacity: zOpacity,\n        shadow: particle.options.shadow,\n        transform\n      });\n      this._applyPostDrawUpdaters(particle);\n    });\n  }\n  drawParticlePlugin(plugin, particle, delta) {\n    this.draw(ctx => drawParticlePlugin(ctx, plugin, particle, delta));\n  }\n  drawPlugin(plugin, delta) {\n    this.draw(ctx => drawPlugin(ctx, plugin, delta));\n  }\n  init() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2._safeMutationObserver(obs => obs.disconnect());\n      _this2._mutationObserver = safeMutationObserver(records => {\n        for (const record of records) {\n          if (record.type === \"attributes\" && record.attributeName === \"style\") {\n            _this2._repairStyle();\n          }\n        }\n      });\n      _this2.resize();\n      _this2._initStyle();\n      _this2._initCover();\n      try {\n        yield _this2._initTrail();\n      } catch (e) {\n        getLogger().error(e);\n      }\n      _this2.initBackground();\n      _this2._safeMutationObserver(obs => {\n        if (!_this2.element) {\n          return;\n        }\n        obs.observe(_this2.element, {\n          attributes: true\n        });\n      });\n      _this2.initUpdaters();\n      _this2.initPlugins();\n      _this2.paint();\n    })();\n  }\n  initBackground() {\n    const options = this.container.actualOptions,\n      background = options.background,\n      element = this.element;\n    if (!element) {\n      return;\n    }\n    const elementStyle = element.style;\n    if (!elementStyle) {\n      return;\n    }\n    if (background.color) {\n      const color = rangeColorToRgb(background.color);\n      elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n    } else {\n      elementStyle.backgroundColor = \"\";\n    }\n    elementStyle.backgroundImage = background.image || \"\";\n    elementStyle.backgroundPosition = background.position || \"\";\n    elementStyle.backgroundRepeat = background.repeat || \"\";\n    elementStyle.backgroundSize = background.size || \"\";\n  }\n  initPlugins() {\n    this._resizePlugins = [];\n    for (const [, plugin] of this.container.plugins) {\n      if (plugin.resize) {\n        this._resizePlugins.push(plugin);\n      }\n      if (plugin.particleFillColor || plugin.particleStrokeColor) {\n        this._colorPlugins.push(plugin);\n      }\n    }\n  }\n  initUpdaters() {\n    this._preDrawUpdaters = [];\n    this._postDrawUpdaters = [];\n    for (const updater of this.container.particles.updaters) {\n      if (updater.afterDraw) {\n        this._postDrawUpdaters.push(updater);\n      }\n      if (updater.getColorStyles || updater.getTransformValues || updater.beforeDraw) {\n        this._preDrawUpdaters.push(updater);\n      }\n    }\n  }\n  loadCanvas(canvas) {\n    if (this._generated && this.element) {\n      this.element.remove();\n    }\n    this._generated = canvas.dataset && generatedAttribute in canvas.dataset ? canvas.dataset[generatedAttribute] === \"true\" : this._generated;\n    this.element = canvas;\n    this.element.ariaHidden = \"true\";\n    this._originalStyle = deepExtend({}, this.element.style);\n    this.size.height = canvas.offsetHeight;\n    this.size.width = canvas.offsetWidth;\n    this._context = this.element.getContext(\"2d\");\n    this._safeMutationObserver(obs => {\n      if (!this.element) {\n        return;\n      }\n      obs.observe(this.element, {\n        attributes: true\n      });\n    });\n    this.container.retina.init();\n    this.initBackground();\n  }\n  paint() {\n    const options = this.container.actualOptions;\n    this.draw(ctx => {\n      if (options.backgroundMask.enable && options.backgroundMask.cover) {\n        clear(ctx, this.size);\n        this._paintBase(this._coverColorStyle);\n      } else {\n        this._paintBase();\n      }\n    });\n  }\n  resize() {\n    if (!this.element) {\n      return false;\n    }\n    const container = this.container,\n      pxRatio = container.retina.pixelRatio,\n      size = container.canvas.size,\n      newSize = {\n        width: this.element.offsetWidth * pxRatio,\n        height: this.element.offsetHeight * pxRatio\n      };\n    if (newSize.height === size.height && newSize.width === size.width && newSize.height === this.element.height && newSize.width === this.element.width) {\n      return false;\n    }\n    const oldSize = {\n      ...size\n    };\n    this.element.width = size.width = this.element.offsetWidth * pxRatio;\n    this.element.height = size.height = this.element.offsetHeight * pxRatio;\n    if (this.container.started) {\n      this.resizeFactor = {\n        width: size.width / oldSize.width,\n        height: size.height / oldSize.height\n      };\n    }\n    return true;\n  }\n  stop() {\n    this._safeMutationObserver(obs => obs.disconnect());\n    this._mutationObserver = undefined;\n    this.draw(ctx => clear(ctx, this.size));\n  }\n  windowResize() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this3.element || !_this3.resize()) {\n        return;\n      }\n      const container = _this3.container,\n        needsRefresh = container.updateActualOptions();\n      container.particles.setDensity();\n      _this3._applyResizePlugins();\n      if (needsRefresh) {\n        yield container.refresh();\n      }\n    })();\n  }\n}","map":{"version":3,"names":["clear","drawParticle","drawParticlePlugin","drawPlugin","paintBase","paintImage","deepExtend","getLogger","safeMutationObserver","getStyleFromHsl","getStyleFromRgb","rangeColorToHsl","rangeColorToRgb","generatedAttribute","setTransformValue","factor","newFactor","key","newValue","undefined","Canvas","constructor","container","_this","_applyPostDrawUpdaters","particle","updater","_postDrawUpdaters","afterDraw","_applyPreDrawUpdaters","ctx","radius","zOpacity","colorStyles","transform","_preDrawUpdaters","getColorStyles","fill","stroke","getTransformValues","updaterTransform","beforeDraw","_applyResizePlugins","plugin","_resizePlugins","resize","_getPluginParticleColors","fColor","sColor","_colorPlugins","particleFillColor","particleStrokeColor","_initCover","options","actualOptions","cover","backgroundMask","color","coverRgb","coverColor","a","opacity","_coverColorStyle","_initStyle","element","_fullScreen","_originalStyle","style","_setFullScreenStyle","_resetOriginalStyle","value","setProperty","_initTrail","_asyncToGenerator","trail","particles","move","trailFill","enable","fillColor","_trailFill","length","Promise","resolve","reject","image","img","document","createElement","addEventListener","evt","error","src","_paintBase","baseColor","draw","size","_paintImage","_repairStyle","_safeMutationObserver","observer","disconnect","initBackground","observe","attributes","originalStyle","position","zIndex","top","left","width","height","callback","_mutationObserver","priority","fullScreen","toString","_context","_generated","paint","destroy","stop","remove","cb","delta","spawning","destroyed","getRadius","pfColor","getFillColor","psColor","getStrokeColor","zIndexOptions","zOpacityFactor","zIndexFactor","opacityRate","bubble","strokeOpacity","zStrokeOpacity","context","composite","sizeRate","shadow","init","_this2","obs","records","record","type","attributeName","e","initUpdaters","initPlugins","background","elementStyle","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","repeat","backgroundSize","plugins","push","updaters","loadCanvas","canvas","dataset","ariaHidden","offsetHeight","offsetWidth","getContext","retina","pxRatio","pixelRatio","newSize","oldSize","started","resizeFactor","windowResize","_this3","needsRefresh","updateActualOptions","setDensity","refresh"],"sources":["/Users/namcuong757/snva/copy_main2/crm-dec4/CRM_Frontend/node_modules/tsparticles-engine/esm/Core/Canvas.js"],"sourcesContent":["import { clear, drawParticle, drawParticlePlugin, drawPlugin, paintBase, paintImage } from \"../Utils/CanvasUtils\";\nimport { deepExtend, getLogger, safeMutationObserver } from \"../Utils/Utils\";\nimport { getStyleFromHsl, getStyleFromRgb, rangeColorToHsl, rangeColorToRgb } from \"../Utils/ColorUtils\";\nimport { generatedAttribute } from \"./Utils/Constants\";\nfunction setTransformValue(factor, newFactor, key) {\n    const newValue = newFactor[key];\n    if (newValue !== undefined) {\n        factor[key] = (factor[key] ?? 1) * newValue;\n    }\n}\nexport class Canvas {\n    constructor(container) {\n        this.container = container;\n        this._applyPostDrawUpdaters = (particle) => {\n            for (const updater of this._postDrawUpdaters) {\n                updater.afterDraw && updater.afterDraw(particle);\n            }\n        };\n        this._applyPreDrawUpdaters = (ctx, particle, radius, zOpacity, colorStyles, transform) => {\n            for (const updater of this._preDrawUpdaters) {\n                if (updater.getColorStyles) {\n                    const { fill, stroke } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n                    if (fill) {\n                        colorStyles.fill = fill;\n                    }\n                    if (stroke) {\n                        colorStyles.stroke = stroke;\n                    }\n                }\n                if (updater.getTransformValues) {\n                    const updaterTransform = updater.getTransformValues(particle);\n                    for (const key in updaterTransform) {\n                        setTransformValue(transform, updaterTransform, key);\n                    }\n                }\n                updater.beforeDraw && updater.beforeDraw(particle);\n            }\n        };\n        this._applyResizePlugins = () => {\n            for (const plugin of this._resizePlugins) {\n                plugin.resize && plugin.resize();\n            }\n        };\n        this._getPluginParticleColors = (particle) => {\n            let fColor, sColor;\n            for (const plugin of this._colorPlugins) {\n                if (!fColor && plugin.particleFillColor) {\n                    fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n                }\n                if (!sColor && plugin.particleStrokeColor) {\n                    sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n                }\n                if (fColor && sColor) {\n                    break;\n                }\n            }\n            return [fColor, sColor];\n        };\n        this._initCover = () => {\n            const options = this.container.actualOptions, cover = options.backgroundMask.cover, color = cover.color, coverRgb = rangeColorToRgb(color);\n            if (coverRgb) {\n                const coverColor = {\n                    ...coverRgb,\n                    a: cover.opacity,\n                };\n                this._coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n            }\n        };\n        this._initStyle = () => {\n            const element = this.element, options = this.container.actualOptions;\n            if (!element) {\n                return;\n            }\n            if (this._fullScreen) {\n                this._originalStyle = deepExtend({}, element.style);\n                this._setFullScreenStyle();\n            }\n            else {\n                this._resetOriginalStyle();\n            }\n            for (const key in options.style) {\n                if (!key || !options.style) {\n                    continue;\n                }\n                const value = options.style[key];\n                if (!value) {\n                    continue;\n                }\n                element.style.setProperty(key, value, \"important\");\n            }\n        };\n        this._initTrail = async () => {\n            const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = trail.fill;\n            if (!trail.enable) {\n                return;\n            }\n            if (trailFill.color) {\n                const fillColor = rangeColorToRgb(trailFill.color);\n                if (!fillColor) {\n                    return;\n                }\n                const trail = options.particles.move.trail;\n                this._trailFill = {\n                    color: {\n                        ...fillColor,\n                    },\n                    opacity: 1 / trail.length,\n                };\n            }\n            else {\n                await new Promise((resolve, reject) => {\n                    if (!trailFill.image) {\n                        return;\n                    }\n                    const img = document.createElement(\"img\");\n                    img.addEventListener(\"load\", () => {\n                        this._trailFill = {\n                            image: img,\n                            opacity: 1 / trail.length,\n                        };\n                        resolve();\n                    });\n                    img.addEventListener(\"error\", (evt) => {\n                        reject(evt.error);\n                    });\n                    img.src = trailFill.image;\n                });\n            }\n        };\n        this._paintBase = (baseColor) => {\n            this.draw((ctx) => paintBase(ctx, this.size, baseColor));\n        };\n        this._paintImage = (image, opacity) => {\n            this.draw((ctx) => paintImage(ctx, this.size, image, opacity));\n        };\n        this._repairStyle = () => {\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            this._safeMutationObserver((observer) => observer.disconnect());\n            this._initStyle();\n            this.initBackground();\n            this._safeMutationObserver((observer) => observer.observe(element, { attributes: true }));\n        };\n        this._resetOriginalStyle = () => {\n            const element = this.element, originalStyle = this._originalStyle;\n            if (!(element && originalStyle)) {\n                return;\n            }\n            const style = element.style;\n            style.position = originalStyle.position;\n            style.zIndex = originalStyle.zIndex;\n            style.top = originalStyle.top;\n            style.left = originalStyle.left;\n            style.width = originalStyle.width;\n            style.height = originalStyle.height;\n        };\n        this._safeMutationObserver = (callback) => {\n            if (!this._mutationObserver) {\n                return;\n            }\n            callback(this._mutationObserver);\n        };\n        this._setFullScreenStyle = () => {\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            const priority = \"important\", style = element.style;\n            style.setProperty(\"position\", \"fixed\", priority);\n            style.setProperty(\"z-index\", this.container.actualOptions.fullScreen.zIndex.toString(10), priority);\n            style.setProperty(\"top\", \"0\", priority);\n            style.setProperty(\"left\", \"0\", priority);\n            style.setProperty(\"width\", \"100%\", priority);\n            style.setProperty(\"height\", \"100%\", priority);\n        };\n        this.size = {\n            height: 0,\n            width: 0,\n        };\n        this._context = null;\n        this._generated = false;\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    get _fullScreen() {\n        return this.container.actualOptions.fullScreen.enable;\n    }\n    clear() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = this._trailFill;\n        if (options.backgroundMask.enable) {\n            this.paint();\n        }\n        else if (trail.enable && trail.length > 0 && trailFill) {\n            if (trailFill.color) {\n                this._paintBase(getStyleFromRgb(trailFill.color, trailFill.opacity));\n            }\n            else if (trailFill.image) {\n                this._paintImage(trailFill.image, trailFill.opacity);\n            }\n        }\n        else {\n            this.draw((ctx) => {\n                clear(ctx, this.size);\n            });\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this._generated) {\n            const element = this.element;\n            element && element.remove();\n        }\n        else {\n            this._resetOriginalStyle();\n        }\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    draw(cb) {\n        const ctx = this._context;\n        if (!ctx) {\n            return;\n        }\n        return cb(ctx);\n    }\n    drawParticle(particle, delta) {\n        if (particle.spawning || particle.destroyed) {\n            return;\n        }\n        const radius = particle.getRadius();\n        if (radius <= 0) {\n            return;\n        }\n        const pfColor = particle.getFillColor(), psColor = particle.getStrokeColor() ?? pfColor;\n        let [fColor, sColor] = this._getPluginParticleColors(particle);\n        if (!fColor) {\n            fColor = pfColor;\n        }\n        if (!sColor) {\n            sColor = psColor;\n        }\n        if (!fColor && !sColor) {\n            return;\n        }\n        this.draw((ctx) => {\n            const container = this.container, options = container.actualOptions, zIndexOptions = particle.options.zIndex, zOpacityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.opacityRate, opacity = particle.bubble.opacity ?? particle.opacity?.value ?? 1, strokeOpacity = particle.strokeOpacity ?? opacity, zOpacity = opacity * zOpacityFactor, zStrokeOpacity = strokeOpacity * zOpacityFactor, transform = {}, colorStyles = {\n                fill: fColor ? getStyleFromHsl(fColor, zOpacity) : undefined,\n            };\n            colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n            this._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n            drawParticle({\n                container,\n                context: ctx,\n                particle,\n                delta,\n                colorStyles,\n                backgroundMask: options.backgroundMask.enable,\n                composite: options.backgroundMask.composite,\n                radius: radius * (1 - particle.zIndexFactor) ** zIndexOptions.sizeRate,\n                opacity: zOpacity,\n                shadow: particle.options.shadow,\n                transform,\n            });\n            this._applyPostDrawUpdaters(particle);\n        });\n    }\n    drawParticlePlugin(plugin, particle, delta) {\n        this.draw((ctx) => drawParticlePlugin(ctx, plugin, particle, delta));\n    }\n    drawPlugin(plugin, delta) {\n        this.draw((ctx) => drawPlugin(ctx, plugin, delta));\n    }\n    async init() {\n        this._safeMutationObserver((obs) => obs.disconnect());\n        this._mutationObserver = safeMutationObserver((records) => {\n            for (const record of records) {\n                if (record.type === \"attributes\" && record.attributeName === \"style\") {\n                    this._repairStyle();\n                }\n            }\n        });\n        this.resize();\n        this._initStyle();\n        this._initCover();\n        try {\n            await this._initTrail();\n        }\n        catch (e) {\n            getLogger().error(e);\n        }\n        this.initBackground();\n        this._safeMutationObserver((obs) => {\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, { attributes: true });\n        });\n        this.initUpdaters();\n        this.initPlugins();\n        this.paint();\n    }\n    initBackground() {\n        const options = this.container.actualOptions, background = options.background, element = this.element;\n        if (!element) {\n            return;\n        }\n        const elementStyle = element.style;\n        if (!elementStyle) {\n            return;\n        }\n        if (background.color) {\n            const color = rangeColorToRgb(background.color);\n            elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n        }\n        else {\n            elementStyle.backgroundColor = \"\";\n        }\n        elementStyle.backgroundImage = background.image || \"\";\n        elementStyle.backgroundPosition = background.position || \"\";\n        elementStyle.backgroundRepeat = background.repeat || \"\";\n        elementStyle.backgroundSize = background.size || \"\";\n    }\n    initPlugins() {\n        this._resizePlugins = [];\n        for (const [, plugin] of this.container.plugins) {\n            if (plugin.resize) {\n                this._resizePlugins.push(plugin);\n            }\n            if (plugin.particleFillColor || plugin.particleStrokeColor) {\n                this._colorPlugins.push(plugin);\n            }\n        }\n    }\n    initUpdaters() {\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        for (const updater of this.container.particles.updaters) {\n            if (updater.afterDraw) {\n                this._postDrawUpdaters.push(updater);\n            }\n            if (updater.getColorStyles || updater.getTransformValues || updater.beforeDraw) {\n                this._preDrawUpdaters.push(updater);\n            }\n        }\n    }\n    loadCanvas(canvas) {\n        if (this._generated && this.element) {\n            this.element.remove();\n        }\n        this._generated =\n            canvas.dataset && generatedAttribute in canvas.dataset\n                ? canvas.dataset[generatedAttribute] === \"true\"\n                : this._generated;\n        this.element = canvas;\n        this.element.ariaHidden = \"true\";\n        this._originalStyle = deepExtend({}, this.element.style);\n        this.size.height = canvas.offsetHeight;\n        this.size.width = canvas.offsetWidth;\n        this._context = this.element.getContext(\"2d\");\n        this._safeMutationObserver((obs) => {\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, { attributes: true });\n        });\n        this.container.retina.init();\n        this.initBackground();\n    }\n    paint() {\n        const options = this.container.actualOptions;\n        this.draw((ctx) => {\n            if (options.backgroundMask.enable && options.backgroundMask.cover) {\n                clear(ctx, this.size);\n                this._paintBase(this._coverColorStyle);\n            }\n            else {\n                this._paintBase();\n            }\n        });\n    }\n    resize() {\n        if (!this.element) {\n            return false;\n        }\n        const container = this.container, pxRatio = container.retina.pixelRatio, size = container.canvas.size, newSize = {\n            width: this.element.offsetWidth * pxRatio,\n            height: this.element.offsetHeight * pxRatio,\n        };\n        if (newSize.height === size.height &&\n            newSize.width === size.width &&\n            newSize.height === this.element.height &&\n            newSize.width === this.element.width) {\n            return false;\n        }\n        const oldSize = { ...size };\n        this.element.width = size.width = this.element.offsetWidth * pxRatio;\n        this.element.height = size.height = this.element.offsetHeight * pxRatio;\n        if (this.container.started) {\n            this.resizeFactor = {\n                width: size.width / oldSize.width,\n                height: size.height / oldSize.height,\n            };\n        }\n        return true;\n    }\n    stop() {\n        this._safeMutationObserver((obs) => obs.disconnect());\n        this._mutationObserver = undefined;\n        this.draw((ctx) => clear(ctx, this.size));\n    }\n    async windowResize() {\n        if (!this.element || !this.resize()) {\n            return;\n        }\n        const container = this.container, needsRefresh = container.updateActualOptions();\n        container.particles.setDensity();\n        this._applyResizePlugins();\n        if (needsRefresh) {\n            await container.refresh();\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}