{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./authentication.service\";\nexport class HttpInterceptorService {\n  auth;\n  constructor(auth) {\n    this.auth = auth;\n  }\n  intercept(req, next) {\n    console.log(\"intercepted\");\n    if (this.auth.authenticated && req.url.indexOf(\"basicauth\") === -1) {\n      console.log(\"authenticated\");\n      const authReq = req.clone({\n        headers: new HttpHeaders({\n          Authorization: `${this.auth.getAuthenticatedUser()}`\n        })\n      });\n      return next.handle(authReq);\n    } else {\n      return next.handle(req);\n    }\n  }\n  static ɵfac = function HttpInterceptorService_Factory(t) {\n    return new (t || HttpInterceptorService)(i0.ɵɵinject(i1.AuthenticationService));\n  };\n  static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: HttpInterceptorService,\n    factory: HttpInterceptorService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["HttpHeaders","HttpInterceptorService","auth","constructor","intercept","req","next","console","log","authenticated","url","indexOf","authReq","clone","headers","Authorization","getAuthenticatedUser","handle","i0","ɵɵinject","i1","AuthenticationService","factory","ɵfac","providedIn"],"sources":["/Users/namcuong757/snva/copy_main2/crm-dec4/CRM_Frontend/src/app/service/http-interceptor.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { AuthenticationService } from \"./authentication.service\";\nimport {\n  HttpInterceptor,\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpHeaders,\n} from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\n@Injectable({\n  providedIn: \"root\",\n})\nexport class HttpInterceptorService {\n  constructor(private auth: AuthenticationService) {}\n  intercept(\n    req: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    console.log(\"intercepted\");\n    if (this.auth.authenticated && req.url.indexOf(\"basicauth\") === -1) {\n      console.log(\"authenticated\");\n      const authReq = req.clone({\n        headers: new HttpHeaders({\n          Authorization: `${this.auth.getAuthenticatedUser()}`,\n        }),\n      });\n      return next.handle(authReq);\n    } else {\n      return next.handle(req);\n    }\n  }\n}\n"],"mappings":"AAEA,SAKEA,WAAW,QACN,sBAAsB;;;AAK7B,OAAM,MAAOC,sBAAsB;EACbC,IAAA;EAApBC,YAAoBD,IAA2B;IAA3B,KAAAA,IAAI,GAAJA,IAAI;EAA0B;EAClDE,SAASA,CACPC,GAAqB,EACrBC,IAAiB;IAEjBC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1B,IAAI,IAAI,CAACN,IAAI,CAACO,aAAa,IAAIJ,GAAG,CAACK,GAAG,CAACC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE;MAClEJ,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5B,MAAMI,OAAO,GAAGP,GAAG,CAACQ,KAAK,CAAC;QACxBC,OAAO,EAAE,IAAId,WAAW,CAAC;UACvBe,aAAa,EAAE,GAAG,IAAI,CAACb,IAAI,CAACc,oBAAoB,EAAE;SACnD;OACF,CAAC;MACF,OAAOV,IAAI,CAACW,MAAM,CAACL,OAAO,CAAC;KAC5B,MAAM;MACL,OAAON,IAAI,CAACW,MAAM,CAACZ,GAAG,CAAC;;EAE3B;;qBAlBWJ,sBAAsB,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,qBAAA;EAAA;;WAAtBpB,sBAAsB;IAAAqB,OAAA,EAAtBrB,sBAAsB,CAAAsB,IAAA;IAAAC,UAAA,EAFrB;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}