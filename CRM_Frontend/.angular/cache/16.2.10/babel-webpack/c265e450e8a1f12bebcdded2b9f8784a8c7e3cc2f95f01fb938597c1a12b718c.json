{"ast":null,"code":"import _asyncToGenerator from \"/Users/namcuong757/snva/copy_main2/crm-dec4/CRM_Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { getLogger, getPosition } from \"../Utils/Utils\";\nimport { InteractionManager } from \"./Utils/InteractionManager\";\nimport { Particle } from \"./Particle\";\nimport { Point } from \"./Utils/Point\";\nimport { QuadTree } from \"./Utils/QuadTree\";\nimport { Rectangle } from \"./Utils/Rectangle\";\nimport { errorPrefix } from \"./Utils/Constants\";\nconst qTreeCapacity = 4;\nconst qTreeRectangle = canvasSize => {\n  return new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, canvasSize.width * 3 / 2, canvasSize.height * 3 / 2);\n};\nexport class Particles {\n  constructor(engine, container) {\n    this._applyDensity = (options, manualCount, group) => {\n      if (!options.number.density?.enable) {\n        return;\n      }\n      const numberOptions = options.number,\n        densityFactor = this._initDensityFactor(numberOptions.density),\n        optParticlesNumber = numberOptions.value,\n        optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber,\n        particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount,\n        particlesCount = Math.min(this.count, this.filter(t => t.group === group).length);\n      this.limit = numberOptions.limit * densityFactor;\n      if (particlesCount < particlesNumber) {\n        this.push(Math.abs(particlesNumber - particlesCount), undefined, options, group);\n      } else if (particlesCount > particlesNumber) {\n        this.removeQuantity(particlesCount - particlesNumber, group);\n      }\n    };\n    this._initDensityFactor = densityOptions => {\n      const container = this._container;\n      if (!container.canvas.element || !densityOptions.enable) {\n        return 1;\n      }\n      const canvas = container.canvas.element,\n        pxRatio = container.retina.pixelRatio;\n      return canvas.width * canvas.height / (densityOptions.factor * pxRatio ** 2 * densityOptions.area);\n    };\n    this._pushParticle = (position, overrideOptions, group, initializer) => {\n      try {\n        let particle = this.pool.pop();\n        if (particle) {\n          particle.init(this._nextId, position, overrideOptions, group);\n        } else {\n          particle = new Particle(this._engine, this._nextId, this._container, position, overrideOptions, group);\n        }\n        let canAdd = true;\n        if (initializer) {\n          canAdd = initializer(particle);\n        }\n        if (!canAdd) {\n          return;\n        }\n        this._array.push(particle);\n        this._zArray.push(particle);\n        this._nextId++;\n        this._engine.dispatchEvent(\"particleAdded\", {\n          container: this._container,\n          data: {\n            particle\n          }\n        });\n        return particle;\n      } catch (e) {\n        getLogger().warning(`${errorPrefix} adding particle: ${e}`);\n        return;\n      }\n    };\n    this._removeParticle = (index, group, override) => {\n      const particle = this._array[index];\n      if (!particle || particle.group !== group) {\n        return false;\n      }\n      particle.destroy(override);\n      const zIdx = this._zArray.indexOf(particle);\n      this._array.splice(index, 1);\n      this._zArray.splice(zIdx, 1);\n      this.pool.push(particle);\n      this._engine.dispatchEvent(\"particleRemoved\", {\n        container: this._container,\n        data: {\n          particle\n        }\n      });\n      return true;\n    };\n    this._engine = engine;\n    this._container = container;\n    this._nextId = 0;\n    this._array = [];\n    this._zArray = [];\n    this.pool = [];\n    this.limit = 0;\n    this.needsSort = false;\n    this.lastZIndex = 0;\n    this._interactionManager = new InteractionManager(engine, container);\n    const canvasSize = container.canvas.size;\n    this.quadTree = new QuadTree(qTreeRectangle(canvasSize), qTreeCapacity);\n    this.movers = this._engine.plugins.getMovers(container, true);\n    this.updaters = this._engine.plugins.getUpdaters(container, true);\n  }\n  get count() {\n    return this._array.length;\n  }\n  addManualParticles() {\n    const container = this._container,\n      options = container.actualOptions;\n    for (const particle of options.manualParticles) {\n      this.addParticle(particle.position ? getPosition(particle.position, container.canvas.size) : undefined, particle.options);\n    }\n  }\n  addParticle(position, overrideOptions, group, initializer) {\n    const container = this._container,\n      options = container.actualOptions,\n      limit = options.particles.number.limit;\n    if (limit > 0) {\n      const countToRemove = this.count + 1 - limit;\n      if (countToRemove > 0) {\n        this.removeQuantity(countToRemove);\n      }\n    }\n    return this._pushParticle(position, overrideOptions, group, initializer);\n  }\n  clear() {\n    this._array = [];\n    this._zArray = [];\n  }\n  destroy() {\n    this._array = [];\n    this._zArray = [];\n    this.movers = [];\n    this.updaters = [];\n  }\n  draw(delta) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const container = _this._container;\n      container.canvas.clear();\n      yield _this.update(delta);\n      for (const [, plugin] of container.plugins) {\n        container.canvas.drawPlugin(plugin, delta);\n      }\n      for (const p of _this._zArray) {\n        p.draw(delta);\n      }\n    })();\n  }\n  filter(condition) {\n    return this._array.filter(condition);\n  }\n  find(condition) {\n    return this._array.find(condition);\n  }\n  handleClickMode(mode) {\n    this._interactionManager.handleClickMode(mode);\n  }\n  init() {\n    const container = this._container,\n      options = container.actualOptions;\n    this.lastZIndex = 0;\n    this.needsSort = false;\n    let handled = false;\n    this.updaters = this._engine.plugins.getUpdaters(container, true);\n    this._interactionManager.init();\n    for (const [, plugin] of container.plugins) {\n      if (plugin.particlesInitialization !== undefined) {\n        handled = plugin.particlesInitialization();\n      }\n      if (handled) {\n        break;\n      }\n    }\n    this._interactionManager.init();\n    for (const [, pathGenerator] of container.pathGenerators) {\n      pathGenerator.init(container);\n    }\n    this.addManualParticles();\n    if (!handled) {\n      for (const group in options.particles.groups) {\n        const groupOptions = options.particles.groups[group];\n        for (let i = this.count, j = 0; j < groupOptions.number?.value && i < options.particles.number.value; i++, j++) {\n          this.addParticle(undefined, groupOptions, group);\n        }\n      }\n      for (let i = this.count; i < options.particles.number.value; i++) {\n        this.addParticle();\n      }\n    }\n  }\n  push(nb, mouse, overrideOptions, group) {\n    this.pushing = true;\n    for (let i = 0; i < nb; i++) {\n      this.addParticle(mouse?.position, overrideOptions, group);\n    }\n    this.pushing = false;\n  }\n  redraw() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.clear();\n      _this2.init();\n      yield _this2.draw({\n        value: 0,\n        factor: 0\n      });\n    })();\n  }\n  remove(particle, group, override) {\n    this.removeAt(this._array.indexOf(particle), undefined, group, override);\n  }\n  removeAt(index, quantity = 1, group, override) {\n    if (index < 0 || index > this.count) {\n      return;\n    }\n    let deleted = 0;\n    for (let i = index; deleted < quantity && i < this.count; i++) {\n      this._removeParticle(i--, group, override) && deleted++;\n    }\n  }\n  removeQuantity(quantity, group) {\n    this.removeAt(0, quantity, group);\n  }\n  setDensity() {\n    const options = this._container.actualOptions,\n      groups = options.particles.groups;\n    for (const group in groups) {\n      this._applyDensity(groups[group], 0, group);\n    }\n    this._applyDensity(options.particles, options.manualParticles.length);\n  }\n  update(delta) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const container = _this3._container,\n        particlesToDelete = new Set();\n      _this3.quadTree = new QuadTree(qTreeRectangle(container.canvas.size), qTreeCapacity);\n      for (const [, pathGenerator] of container.pathGenerators) {\n        pathGenerator.update();\n      }\n      for (const [, plugin] of container.plugins) {\n        plugin.update && plugin.update(delta);\n      }\n      for (const particle of _this3._array) {\n        const resizeFactor = container.canvas.resizeFactor;\n        if (resizeFactor && !particle.ignoresResizeRatio) {\n          particle.position.x *= resizeFactor.width;\n          particle.position.y *= resizeFactor.height;\n          particle.initialPosition.x *= resizeFactor.width;\n          particle.initialPosition.y *= resizeFactor.height;\n        }\n        particle.ignoresResizeRatio = false;\n        yield _this3._interactionManager.reset(particle);\n        for (const [, plugin] of _this3._container.plugins) {\n          if (particle.destroyed) {\n            break;\n          }\n          if (plugin.particleUpdate) {\n            plugin.particleUpdate(particle, delta);\n          }\n        }\n        for (const mover of _this3.movers) {\n          mover.isEnabled(particle) && mover.move(particle, delta);\n        }\n        if (particle.destroyed) {\n          particlesToDelete.add(particle);\n          continue;\n        }\n        _this3.quadTree.insert(new Point(particle.getPosition(), particle));\n      }\n      if (particlesToDelete.size) {\n        const checkDelete = p => !particlesToDelete.has(p);\n        _this3._array = _this3.filter(checkDelete);\n        _this3._zArray = _this3._zArray.filter(checkDelete);\n        _this3.pool.push(...particlesToDelete);\n      }\n      yield _this3._interactionManager.externalInteract(delta);\n      for (const particle of _this3._array) {\n        for (const updater of _this3.updaters) {\n          updater.update(particle, delta);\n        }\n        if (!particle.destroyed && !particle.spawning) {\n          yield _this3._interactionManager.particlesInteract(particle, delta);\n        }\n      }\n      delete container.canvas.resizeFactor;\n      if (_this3.needsSort) {\n        const zArray = _this3._zArray;\n        zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);\n        _this3.lastZIndex = zArray[zArray.length - 1].position.z;\n        _this3.needsSort = false;\n      }\n    })();\n  }\n}","map":{"version":3,"names":["getLogger","getPosition","InteractionManager","Particle","Point","QuadTree","Rectangle","errorPrefix","qTreeCapacity","qTreeRectangle","canvasSize","width","height","Particles","constructor","engine","container","_applyDensity","options","manualCount","group","number","density","enable","numberOptions","densityFactor","_initDensityFactor","optParticlesNumber","value","optParticlesLimit","limit","particlesNumber","Math","min","particlesCount","count","filter","t","length","push","abs","undefined","removeQuantity","densityOptions","_container","canvas","element","pxRatio","retina","pixelRatio","factor","area","_pushParticle","position","overrideOptions","initializer","particle","pool","pop","init","_nextId","_engine","canAdd","_array","_zArray","dispatchEvent","data","e","warning","_removeParticle","index","override","destroy","zIdx","indexOf","splice","needsSort","lastZIndex","_interactionManager","size","quadTree","movers","plugins","getMovers","updaters","getUpdaters","addManualParticles","actualOptions","manualParticles","addParticle","particles","countToRemove","clear","draw","delta","_this","_asyncToGenerator","update","plugin","drawPlugin","p","condition","find","handleClickMode","mode","handled","particlesInitialization","pathGenerator","pathGenerators","groups","groupOptions","i","j","nb","mouse","pushing","redraw","_this2","remove","removeAt","quantity","deleted","setDensity","_this3","particlesToDelete","Set","resizeFactor","ignoresResizeRatio","x","y","initialPosition","reset","destroyed","particleUpdate","mover","isEnabled","move","add","insert","checkDelete","has","externalInteract","updater","spawning","particlesInteract","zArray","sort","a","b","z","id"],"sources":["/Users/namcuong757/snva/copy_main2/crm-dec4/CRM_Frontend/node_modules/tsparticles-engine/esm/Core/Particles.js"],"sourcesContent":["import { getLogger, getPosition } from \"../Utils/Utils\";\nimport { InteractionManager } from \"./Utils/InteractionManager\";\nimport { Particle } from \"./Particle\";\nimport { Point } from \"./Utils/Point\";\nimport { QuadTree } from \"./Utils/QuadTree\";\nimport { Rectangle } from \"./Utils/Rectangle\";\nimport { errorPrefix } from \"./Utils/Constants\";\nconst qTreeCapacity = 4;\nconst qTreeRectangle = (canvasSize) => {\n    return new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, (canvasSize.width * 3) / 2, (canvasSize.height * 3) / 2);\n};\nexport class Particles {\n    constructor(engine, container) {\n        this._applyDensity = (options, manualCount, group) => {\n            if (!options.number.density?.enable) {\n                return;\n            }\n            const numberOptions = options.number, densityFactor = this._initDensityFactor(numberOptions.density), optParticlesNumber = numberOptions.value, optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber, particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount, particlesCount = Math.min(this.count, this.filter((t) => t.group === group).length);\n            this.limit = numberOptions.limit * densityFactor;\n            if (particlesCount < particlesNumber) {\n                this.push(Math.abs(particlesNumber - particlesCount), undefined, options, group);\n            }\n            else if (particlesCount > particlesNumber) {\n                this.removeQuantity(particlesCount - particlesNumber, group);\n            }\n        };\n        this._initDensityFactor = (densityOptions) => {\n            const container = this._container;\n            if (!container.canvas.element || !densityOptions.enable) {\n                return 1;\n            }\n            const canvas = container.canvas.element, pxRatio = container.retina.pixelRatio;\n            return (canvas.width * canvas.height) / (densityOptions.factor * pxRatio ** 2 * densityOptions.area);\n        };\n        this._pushParticle = (position, overrideOptions, group, initializer) => {\n            try {\n                let particle = this.pool.pop();\n                if (particle) {\n                    particle.init(this._nextId, position, overrideOptions, group);\n                }\n                else {\n                    particle = new Particle(this._engine, this._nextId, this._container, position, overrideOptions, group);\n                }\n                let canAdd = true;\n                if (initializer) {\n                    canAdd = initializer(particle);\n                }\n                if (!canAdd) {\n                    return;\n                }\n                this._array.push(particle);\n                this._zArray.push(particle);\n                this._nextId++;\n                this._engine.dispatchEvent(\"particleAdded\", {\n                    container: this._container,\n                    data: {\n                        particle,\n                    },\n                });\n                return particle;\n            }\n            catch (e) {\n                getLogger().warning(`${errorPrefix} adding particle: ${e}`);\n                return;\n            }\n        };\n        this._removeParticle = (index, group, override) => {\n            const particle = this._array[index];\n            if (!particle || particle.group !== group) {\n                return false;\n            }\n            particle.destroy(override);\n            const zIdx = this._zArray.indexOf(particle);\n            this._array.splice(index, 1);\n            this._zArray.splice(zIdx, 1);\n            this.pool.push(particle);\n            this._engine.dispatchEvent(\"particleRemoved\", {\n                container: this._container,\n                data: {\n                    particle,\n                },\n            });\n            return true;\n        };\n        this._engine = engine;\n        this._container = container;\n        this._nextId = 0;\n        this._array = [];\n        this._zArray = [];\n        this.pool = [];\n        this.limit = 0;\n        this.needsSort = false;\n        this.lastZIndex = 0;\n        this._interactionManager = new InteractionManager(engine, container);\n        const canvasSize = container.canvas.size;\n        this.quadTree = new QuadTree(qTreeRectangle(canvasSize), qTreeCapacity);\n        this.movers = this._engine.plugins.getMovers(container, true);\n        this.updaters = this._engine.plugins.getUpdaters(container, true);\n    }\n    get count() {\n        return this._array.length;\n    }\n    addManualParticles() {\n        const container = this._container, options = container.actualOptions;\n        for (const particle of options.manualParticles) {\n            this.addParticle(particle.position ? getPosition(particle.position, container.canvas.size) : undefined, particle.options);\n        }\n    }\n    addParticle(position, overrideOptions, group, initializer) {\n        const container = this._container, options = container.actualOptions, limit = options.particles.number.limit;\n        if (limit > 0) {\n            const countToRemove = this.count + 1 - limit;\n            if (countToRemove > 0) {\n                this.removeQuantity(countToRemove);\n            }\n        }\n        return this._pushParticle(position, overrideOptions, group, initializer);\n    }\n    clear() {\n        this._array = [];\n        this._zArray = [];\n    }\n    destroy() {\n        this._array = [];\n        this._zArray = [];\n        this.movers = [];\n        this.updaters = [];\n    }\n    async draw(delta) {\n        const container = this._container;\n        container.canvas.clear();\n        await this.update(delta);\n        for (const [, plugin] of container.plugins) {\n            container.canvas.drawPlugin(plugin, delta);\n        }\n        for (const p of this._zArray) {\n            p.draw(delta);\n        }\n    }\n    filter(condition) {\n        return this._array.filter(condition);\n    }\n    find(condition) {\n        return this._array.find(condition);\n    }\n    handleClickMode(mode) {\n        this._interactionManager.handleClickMode(mode);\n    }\n    init() {\n        const container = this._container, options = container.actualOptions;\n        this.lastZIndex = 0;\n        this.needsSort = false;\n        let handled = false;\n        this.updaters = this._engine.plugins.getUpdaters(container, true);\n        this._interactionManager.init();\n        for (const [, plugin] of container.plugins) {\n            if (plugin.particlesInitialization !== undefined) {\n                handled = plugin.particlesInitialization();\n            }\n            if (handled) {\n                break;\n            }\n        }\n        this._interactionManager.init();\n        for (const [, pathGenerator] of container.pathGenerators) {\n            pathGenerator.init(container);\n        }\n        this.addManualParticles();\n        if (!handled) {\n            for (const group in options.particles.groups) {\n                const groupOptions = options.particles.groups[group];\n                for (let i = this.count, j = 0; j < groupOptions.number?.value && i < options.particles.number.value; i++, j++) {\n                    this.addParticle(undefined, groupOptions, group);\n                }\n            }\n            for (let i = this.count; i < options.particles.number.value; i++) {\n                this.addParticle();\n            }\n        }\n    }\n    push(nb, mouse, overrideOptions, group) {\n        this.pushing = true;\n        for (let i = 0; i < nb; i++) {\n            this.addParticle(mouse?.position, overrideOptions, group);\n        }\n        this.pushing = false;\n    }\n    async redraw() {\n        this.clear();\n        this.init();\n        await this.draw({ value: 0, factor: 0 });\n    }\n    remove(particle, group, override) {\n        this.removeAt(this._array.indexOf(particle), undefined, group, override);\n    }\n    removeAt(index, quantity = 1, group, override) {\n        if (index < 0 || index > this.count) {\n            return;\n        }\n        let deleted = 0;\n        for (let i = index; deleted < quantity && i < this.count; i++) {\n            this._removeParticle(i--, group, override) && deleted++;\n        }\n    }\n    removeQuantity(quantity, group) {\n        this.removeAt(0, quantity, group);\n    }\n    setDensity() {\n        const options = this._container.actualOptions, groups = options.particles.groups;\n        for (const group in groups) {\n            this._applyDensity(groups[group], 0, group);\n        }\n        this._applyDensity(options.particles, options.manualParticles.length);\n    }\n    async update(delta) {\n        const container = this._container, particlesToDelete = new Set();\n        this.quadTree = new QuadTree(qTreeRectangle(container.canvas.size), qTreeCapacity);\n        for (const [, pathGenerator] of container.pathGenerators) {\n            pathGenerator.update();\n        }\n        for (const [, plugin] of container.plugins) {\n            plugin.update && plugin.update(delta);\n        }\n        for (const particle of this._array) {\n            const resizeFactor = container.canvas.resizeFactor;\n            if (resizeFactor && !particle.ignoresResizeRatio) {\n                particle.position.x *= resizeFactor.width;\n                particle.position.y *= resizeFactor.height;\n                particle.initialPosition.x *= resizeFactor.width;\n                particle.initialPosition.y *= resizeFactor.height;\n            }\n            particle.ignoresResizeRatio = false;\n            await this._interactionManager.reset(particle);\n            for (const [, plugin] of this._container.plugins) {\n                if (particle.destroyed) {\n                    break;\n                }\n                if (plugin.particleUpdate) {\n                    plugin.particleUpdate(particle, delta);\n                }\n            }\n            for (const mover of this.movers) {\n                mover.isEnabled(particle) && mover.move(particle, delta);\n            }\n            if (particle.destroyed) {\n                particlesToDelete.add(particle);\n                continue;\n            }\n            this.quadTree.insert(new Point(particle.getPosition(), particle));\n        }\n        if (particlesToDelete.size) {\n            const checkDelete = (p) => !particlesToDelete.has(p);\n            this._array = this.filter(checkDelete);\n            this._zArray = this._zArray.filter(checkDelete);\n            this.pool.push(...particlesToDelete);\n        }\n        await this._interactionManager.externalInteract(delta);\n        for (const particle of this._array) {\n            for (const updater of this.updaters) {\n                updater.update(particle, delta);\n            }\n            if (!particle.destroyed && !particle.spawning) {\n                await this._interactionManager.particlesInteract(particle, delta);\n            }\n        }\n        delete container.canvas.resizeFactor;\n        if (this.needsSort) {\n            const zArray = this._zArray;\n            zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);\n            this.lastZIndex = zArray[zArray.length - 1].position.z;\n            this.needsSort = false;\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}